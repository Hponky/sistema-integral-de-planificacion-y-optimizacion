<div class="login-container">
  <div class="login-card">
    <!-- Logo Section -->
    <div class="logo-container">
      <img src="assets/imgs/emergia-logo-bg.png" alt="Emergia Logo" class="logo">
    </div>

    <!-- Header -->
    <div class="login-header">
      <h2>Bienvenido</h2>
      <p class="subtitle">Inicia sesiÃ³n para continuar</p>
    </div>

    <!-- Login Method Toggle -->
    <div class="login-method-toggle">
      <button type="button" [class.active]="loginMethod === 'EOS'" (click)="toggleLoginMethod('EOS')">
        EOS
      </button>
      <button type="button" [class.active]="loginMethod === 'AD'" (click)="toggleLoginMethod('AD')">
        Directorio Activo
      </button>
    </div>

    <!-- Login Form -->
    <form (ngSubmit)="onSubmit()" class="login-form">

      <!-- Domain Select (Only for AD) -->
      <div class="form-group domain-select-container" *ngIf="loginMethod === 'AD'">
        <label for="domain">
          <span class="label-icon">ğŸŒ</span>
          Dominio
        </label>
        <div class="input-wrapper">
          <span class="input-icon">ğŸŒ</span>
          <select id="domain" [(ngModel)]="adCredentials.Domain" name="domain" class="form-control">
            <option value="" disabled selected>Seleccione un dominio</option>
            <option *ngFor="let domain of domains" [value]="domain.Domain">
              {{ domain.Description }}
            </option>
          </select>
        </div>
      </div>

      <!-- Username Field -->
      <div class="form-group">
        <label for="username">
          <span class="label-icon">ğŸ‘¤</span>
          Usuario
        </label>
        <div class="input-wrapper">
          <span class="input-icon">ğŸ‘¤</span>

          <!-- EOS Input -->
          <input *ngIf="loginMethod === 'EOS'" type="text" id="username-eos" [(ngModel)]="credentials.Login"
            name="username-eos" required class="form-control" placeholder="Ingrese su usuario">

          <!-- AD Input -->
          <input *ngIf="loginMethod === 'AD'" type="text" id="username-ad" [(ngModel)]="adCredentials.UserName"
            name="username-ad" required class="form-control" placeholder="Ingrese su usuario de red">
        </div>
      </div>

      <!-- Password Field -->
      <div class="form-group">
        <label for="password">
          <span class="label-icon">ğŸ”’</span>
          ContraseÃ±a
        </label>
        <div class="input-wrapper">
          <span class="input-icon">ğŸ”’</span>

          <!-- EOS Input -->
          <input *ngIf="loginMethod === 'EOS'" type="password" id="password-eos" [(ngModel)]="credentials.Password"
            name="password-eos" required class="form-control" placeholder="Ingrese su contraseÃ±a">

          <!-- AD Input -->
          <input *ngIf="loginMethod === 'AD'" type="password" id="password-ad" [(ngModel)]="adCredentials.Password"
            name="password-ad" required class="form-control" placeholder="Ingrese su contraseÃ±a de red">
        </div>
      </div>

      <button type="submit" class="btn btn-primary" [disabled]="loading">
        <span class="btn-icon">{{ loading ? 'â³' : 'ğŸš€' }}</span>
        {{ loading ? 'Iniciando sesiÃ³n...' : 'Iniciar SesiÃ³n' }}
        <div class="btn-ripple"></div>
      </button>

      <div *ngIf="error" class="error-message">
        <span class="error-icon">âš ï¸</span>
        {{ error }}
      </div>
    </form>

    <!-- Footer -->
    <div class="login-footer">
      <p>SIPO - Sistema Integral de PlanificaciÃ³n y OptimizaciÃ³n</p>
    </div>
  </div>

  <!-- Background Decoration -->
  <div class="bg-decoration">
    <div class="circle circle-1"></div>
    <div class="circle circle-2"></div>
    <div class="circle circle-3"></div>
  </div>
</div>